<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.lgcns.wcs.kurly.repository.RegionMasterRepository">
  
  <update id="insertRegionMaster"  parameterType="com.lgcns.wcs.kurly.dto.RegionMasterData">
	/* [RegionMasterMapper.xml] insertRegionMaster */
	MERGE INTO o_wcs.TB_COM_RGN_MST 
    USING  DUAL
    ON  ( 
    		CO_CD  = #{coCd} 
		AND RGN_CD = #{rgnCd}
		)
    WHEN MATCHED THEN 
    UPDATE SET
     		RGN_NM   =  #{rgnNm} ,
			REGION_GROUP_CODE =  #{regionGroupCode} ,
			DELIVERY_ROUND    =  #{deliveryRound} ,
			RGN_KY   =  #{rgnKy} ,
			USE_YN   =  #{useYn} ,
			UPD_DT   =  SYSDATE ,
			UPD_ID   = #{updId}
			
    WHEN NOT MATCHED THEN
	    INSERT
	    ( 
			CO_CD             ,
		  	RGN_CD            ,
			RGN_NM            ,
			REGION_GROUP_CODE ,
			DELIVERY_ROUND    ,
			RGN_KY            ,
			USE_YN            ,
			REG_ID            ,
			REG_DT            ,
			UPD_ID            ,
			UPD_DT
	     ) VALUES (
			#{coCd},
			#{rgnCd},
			#{rgnNm},
			#{regionGroupCode},
			#{deliveryRound},
			#{rgnKy},
			#{useYn},
			#{regId},
			SYSDATE,
			#{updId},
			SYSDATE
	    ) 
  </update>
  
</mapper>